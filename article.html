<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article | Smart Daily</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/light-bulb.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="light-theme">
    <div id="progressBar"></div>
    <header>
        <a href="index.html" class="logo"><i class="fas fa-lightbulb"></i>Smart<span>Daily</span></a>
        <button id="theme-toggle" class="theme-btn"><i class="fas fa-moon"></i></button>
    </header>
    <main class="container" style="max-width: 900px;">
        <article style="background:var(--card-bg); padding:30px; border-radius:30px; margin-top:30px;">
            <span id="art-cat" class="tag">Category</span>
            <h1 id="art-title" style="margin:15px 0;">Loading Article...</h1>
            <img id="art-img1" src="" style="width:100%; border-radius:20px; margin-bottom:20px;">
            <div id="art-body" class="article-body"></div>
            <img id="art-img2" src="" style="width:100%; border-radius:20px; margin:30px 0;">
        </article>

        <section style="margin-top:50px; border-top: 1px solid #ddd; padding-top:30px;">
            <h2 class="section-heading">ðŸ“š More from this Category</h2>
            <div class="grid" id="related-grid"></div>
        </section>
    </main>

    <script src="script.js"></script>
    <script>
        window.onload = () => {
            const id = new URLSearchParams(window.location.search).get('id');
            const art = articles.find(a => a.id == id);
            if(art) {
                document.title = art.title;
                document.getElementById('art-title').innerText = art.title;
                document.getElementById('art-cat').innerText = art.category;
                document.getElementById('art-img1').src = art.bodyImage1;
                document.getElementById('art-img2').src = art.bodyImage2;
                document.getElementById('art-body').innerHTML = art.content;
                
                // Show 3 Related Articles
                const related = articles.filter(a => a.category === art.category && a.id != art.id).slice(0, 3);
                const relGrid = document.getElementById('related-grid');
                relGrid.innerHTML = related.map(r => `
                    <a href="article.html?id=${r.id}" class="card">
                        <img src="${r.image}">
                        <div class="card-body"><h3>${r.title}</h3></div>
                    </a>`).join('');
            }
        };
        window.onscroll = () => {
            let s = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
            document.getElementById("progressBar").style.width = s + "%";
        };
    </script>
</body>
    </html>
